import{T as i}from"./index-39cf7eb8.js";/* empty css                       */import{_ as d,f as u,p as l,C as p,q as c,o as h,b as g,c as m,k as w,m as f,d as s}from"./index-8bf8b5af.js";const v={components:{editor:i},data(){return{title:"",selectedPhoto:null,previousPageValue:""}},mounted(){const e=new i({el:this.$refs.editorRef,initialEditType:"markdown",previewStyle:"vertical",height:"500px"});e.setMarkdown(""),this.editor=e,e.on("change",()=>{const t=e.getMarkdown();console.log("Editor content:",t)})},methods:{async saveContents(){const e=this.title,t=this.editor.getMarkdown();e?t?await u("crew/writecrewBoard",{crewTitle:e,crewContents:t,userIdx:JSON.parse(l.getLocalStorage(p.KEY_LIST.USER_INFO)).userIdx,crewName:this.previousPageValue}).then(a=>{alert("글 작성 완료!"),c.push("/CrewPost")}).catch(a=>{alert("글이 저장되지 않았습니다.")}):alert("내용을 입력해주세요"):alert("제목을 입력해주세요")},handleFileChange(e){const t=e.target.files[0];this.selectedPhoto=URL.createObjectURL(t)},savePhoto(){console.log(this.selectedPhoto)}},setup(){h(async()=>{l.loginCheck()||(alert("로그인 후에 이용해주세요"),await c.go(-1))})},computed:{previousPageValue(){return localStorage.getItem("previousPageValue")}}},C={class:"edit-container"},k={class:"editdiv",style:{width:"100%"},ref:"editorRef"};function _(e,t,a,P,n,r){return g(),m("div",C,[w(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>n.title=o),placeholder:"제목"},null,512),[[f,n.title]]),s("div",k,null,512),s("button",{class:"upload",onClick:t[1]||(t[1]=(...o)=>r.saveContents&&r.saveContents(...o))},"저장하기")])}const E=d(v,[["render",_]]);export{E as default};
