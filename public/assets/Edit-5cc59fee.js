import{T as r}from"./index-39cf7eb8.js";/* empty css                       */import{_ as c,f as h,p as l,C as u,q as d,o as p,b as f,c as C,k as g,m,d as s}from"./index-1d20f0bf.js";const k={components:{editor:r},data(){return{title:"",selectedPhoto:null}},mounted(){const e=new r({el:this.$refs.editorRef,initialEditType:"markdown",previewStyle:"vertical",height:"500px"});e.setMarkdown(""),this.editor=e,e.on("change",()=>{const t=e.getMarkdown();console.log("Editor content:",t)})},methods:{async saveContents(){const e=this.title,t=this.editor.getMarkdown();e?t?await h("board/writeBoard",{boardTitle:e,boardContents:t,userIdx:JSON.parse(l.getLocalStorage(u.KEY_LIST.USER_INFO)).userIdx}).then(a=>{alert("글 작성 완료!"),d.push("/")}).catch(a=>{alert("글이 저장되지 않았습니다.")}):alert("내용을 입력해주세요"):alert("제목을 입력해주세요")},handleFileChange(e){const t=e.target.files;this.selectedPhoto=URL.createObjectURL(t)},savePhoto(){if(this.selectedPhoto){const e=`![](${this.selectedPhoto})`,a=`${this.editor.getMarkdown()}
${e}`;this.editor.setMarkdown(a)}}},setup(){p(async()=>{l.loginCheck()||(alert("로그인 후에 이용해주세요"),await d.push("/"))})}},w={class:"edit-container"},v={class:"editdiv",style:{width:"100%"},ref:"editorRef"};function x(e,t,a,T,i,n){return f(),C("div",w,[g(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>i.title=o),placeholder:"제목"},null,512),[[m,i.title]]),s("div",v,null,512),s("input",{type:"file",onChange:t[1]||(t[1]=(...o)=>n.handleFileChange&&n.handleFileChange(...o)),accept:"image/*"},null,32),s("button",{class:"upload",onClick:t[2]||(t[2]=(...o)=>n.savePhoto&&n.savePhoto(...o))},"이미지 추가"),s("button",{class:"upload",onClick:t[3]||(t[3]=(...o)=>n.saveContents&&n.saveContents(...o))},"저장하기")])}const M=c(k,[["render",x]]);export{M as default};
